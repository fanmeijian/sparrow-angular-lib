<button mat-flat-button color="primary" (click)="save()">保存</button>
<button mat-flat-button color="primary" (click)="viewSource()">源码</button>
<button mat-flat-button color="primary" (click)="preview1()">预览</button>

<h3>变量</h3>
<div style="display: flex;flex-direction: row;">
  <cdk-virtual-scroll-viewport itemSize="30" class="example-viewport">
    <div *cdkVirtualFor="let item of variables" class="example-item">
      <div style="display: flex; flex: 0 0 50%">
        <span class="variable">{{ item.name }}</span>
        <span>{{ item.type }}</span>
      </div>
    </div>
  </cdk-virtual-scroll-viewport>

  <cdk-virtual-scroll-viewport itemSize="30" class="example-viewport">
    <div *cdkVirtualFor="let item of variablesOutput" class="example-item">
      <div style="display: flex; flex: 0 0 50%">
        <span class="variable">{{ item.name }}</span>
        <span>{{ item.type }}</span>
      </div>
    </div>
  </cdk-virtual-scroll-viewport>
</div>
<!--
<div style="display: flex;flex-direction: row;width: 100%;flex-wrap: wrap;">
  <div class="variable" *ngFor="let item of variables" [matTooltip]="item.type">
    {{item.name}}
  </div>
</div> -->

<h3>表单设计</h3>
<form-builder
  [form]="form"
  [options]="formOptions"
  (formio)="{asdf:'aaa'}"
></form-builder>

<ng-template #soruceCode>
  <h3 mat-dialog-title>表单源码</h3>
  <mat-dialog-content style="height: 80%">
    <pre
      id="json"
    ><code class="language-json" #json [innerHTML]="formJson|json"></code></pre>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button mat-dialog-close="">关闭</button>
  </mat-dialog-actions>
</ng-template>

<ng-template #preview>
  <h3 mat-dialog-title>预览</h3>
  <mat-dialog-content style="height: 80%">
    <formio [form]="form" [refresh]="refreshForm"></formio>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button mat-dialog-close="">关闭</button>
  </mat-dialog-actions>
</ng-template>
